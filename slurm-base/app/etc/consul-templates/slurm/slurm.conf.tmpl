#
# Example slurm.conf file. Please run configurator.html
# (in doc/html) to build a configuration file customized
# for your environment.
#
#
# slurm.conf file generated by configurator.html.
#
# See the slurm.conf man page for more information.
#
ClusterName=terminal
{{range service "slurmctld|any"}}
ControlMachine={{.Node}}
ControlAddr={{.Address}}
{{end}}

DebugFlags=NO_CONF_HASH
#BackupController=
#BackupAddr=

SlurmUser=slurm
SlurmctldPort=6817
SlurmdPort=6818
AuthType=auth/munge
StateSaveLocation=/var/spool/slurmctld
SwitchType=switch/none
MpiDefault=none

SlurmctldPidFile=/var/run/slurmctld.pid
SlurmdPidFile=/var/run/slurmd.pid

ProctrackType=proctrack/pgid
CacheGroups=0
ReturnToService=0

PrologSlurmctld=/opt/jeefy/slurm/bin/prolog.sh
EpilogSlurmctld=/opt/jeefy/slurm/bin/epilog.sh

# TIMERS
SlurmctldTimeout=300
SlurmdTimeout=300
InactiveLimit=0
MinJobAge=300
KillWait=30
Waittime=0

SchedulerType=sched/backfill
SelectType=select/linear
FastSchedule=0

# COMPUTE NODES

{{range service "slurmd|any"}}
NodeName={{.Node}} NodeAddr={{.Address}}{{end}}

# Create list
PartitionName=all Nodes={{range $i, $e := service "slurmd|any"}}{{if ne $i 0}},{{end}}{{$e.Node}}{{end}} Default=YES MaxTime=INFINITE State=UP
